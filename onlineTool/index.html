<!DOCTYOE html>
<html>

<head>
	<meta charset='utf-8'>
	<title>Online Tool</title>
</head>


<style>
 body{
   font-family: Consolas, Menlo, monospace;
 }

 div.container {
	width: 900px;
	margin: 10px auto;
 }
 div.item {
	box-sizing: border-box;
	-moz-box-sizing: border-box;
	-webkit-box-sizing: border-box;
	width: 33%
	height: 200px;
	border: 0px solid black;
	float: left;
 }
 div.container:after{
	display: block;
	clear: both;
	content: ".";
	height: 0;
	visibility: hidden;
	display: block;
 }

 table{
   	border-collapse: collapse;
   	border : 1px solid;
 }
 
 td{
   	padding : 4px;
	overflow: hidden;
	text-overflow: ellipsis;
 }

 input{
	font-family: Roboto;
 }

 button {
  	display: block;
  	/*padding: 5px;*/
  	margin: 10px auto; 
  	text-align: center;
  	line-height: 20px;
  	text-decoration: none;
  	border: 1px solid #ddd;
  	border-radius: 5px;
}

a:link{
	color: darkorange; 
	background-color: transparent;
	text-decoration: none;
}
a:hover{
	color: red;
	background-color: transparent;
	text-decoration: underline;
}
a:active{
	color: red;
	background-color: transparent;
	text-decoration: underline;
}
a:visited{
	color: black;	
	background-color: transparent;
	text-decoration: none;
}

</style>

<body>

<div style="padding:1% 0 5%;">
<h1 align="center">Ion Number Estimation</h1>
<table id="convertor" align="center">
  	<tr>
		<td align="center" width="50%">
  		<table id="primaryBeam" align="center">
			<caption>Primary Beam</caption>
			<tr>
   				<td style="text-align:right">A:</td>
   				<td><input type="text" id="primaryBeam_A" size="10" value="56" enterkeyhint="done"/> </td>
   				<td style="text-align:left"></td>
			</tr>
			<tr>
   				<td style="text-align:right">Element:</td>
   				<td><input type="text" id="primaryBeam_element" size="10" value="Fe" enterkeyhint="done" onchange='limiter_primaryBeam_element(this);'/> </td>
   				<td style="text-align:left"></td>
			</tr>
			<tr>
   				<td style="text-align:right">Q:</td>
   				<td><input type="text" id="primaryBeam_Q" size="10" value="19" enterkeyhint="done"/> </td>
   				<td style="text-align:left"></td>
			</tr>
  			<tr>
   				<td style="text-align:right">DCCTm</td>
   				<td><input type="text" id="DCCTm" size="10" value="850" enterkeyhint="done" /> </td>
   				<td style="text-align:left">[μA]</td>
  			</tr>
  			<tr>
				<td style="text-align:right">Length of CSRm:</td>
				<td><input type="text" id="CSRmL" size="10" value="161" enterkeyhint="done" /> </td>
				<td style="text-align:left">[m]</td>
  			</tr>
  			<tr>
				<td style="text-align:right">Energy:</td>
				<td><input type="text" id="primaryBeam_energy" size="10" value="300" enterkeyhint="done" /> </td>
				<td style="text-align:left">[MeV/u]</td>
  			</tr>
			<tr>
				<td style="text-align:right">Beam intensity:</td>
				<td width="100"></td>
				<td style="text-align:left">[ppp]</td>
			</tr>
		</table>
		</td>
		<td align="center" width="50%">
  		<table id="secondaryBeam" align="center">
			<caption>Secondary Beam</caption>
			<tr>
   				<td style="text-align:right">A:</td>
   				<td><input type="text" id="secondaryBeam_A" size="10" value="56" enterkeyhint="done" onchange='limiter_secondaryBeam_element(this);'/> </td>
   				<td style="text-align:left"></td>
			</tr>
			<tr>
   				<td style="text-align:right">Element:</td>
   				<td><input type="text" id="secondaryBeam_element" size="10" value="Fe" enterkeyhint="done"/> </td>
   				<td style="text-align:left"></td>
			</tr>
			<tr>
   				<td style="text-align:right">Q:</td>
   				<td><input type="text" id="secondaryBeam_Q" size="10" value="26" enterkeyhint="done"/> </td>
   				<td style="text-align:left"></td>
			</tr>
  			<tr>
   				<td style="text-align:right">DCCTe:</td>
   				<td><input type="text" id="DCCTe" size="10" value="400" enterkeyhint="done" /> </td>
   				<td style="text-align:left">[μA]</td>
  			</tr>
  			<tr>
				<td style="text-align:right">Length of CSRe:</td>
				<td><input type="text" id="CSReL" size="10" value="128.8" enterkeyhint="done" /> </td>
				<td style="text-align:left">[m]</td>
  			</tr>
  			<tr>
				<td style="text-align:right">Bρ:</td>
				<td><input type="text" id="secondaryBeam_Brho" size="10" value="5.701" enterkeyhint="done" /> </td>
				<td style="text-align:left">[Tm]</td>
  			</tr>
			<tr>
				<td style="text-align:right">Beam intensity:</td>
				<td width="100"></td>
				<td style="text-align:left">[ppp]</td>
			</tr>
		</table>
		</td>
	</tr>
  
  <tr style="text-align:center">
	<td style="text-align:right">Transfer efficiency:</td>
	<td width="100"></td>
  </tr>
 </table>
 </div>

 <hr width="15%" />

<div style="padding:5% 0 5%;">
<h1 align="center">Ion Information</h1>

<table id="ion_information" align="center">
	<tr>
		<td align="center" width="50%">
			<table id="ion_info_static" align="center">
			<tr>
				<td style="text-align:right">Element:</td>
				<td><input type="text" id="ion_element" size="10" value="Fe" enterkeyhint="done" onchange='limiter_ion_element(this);'/></td>
				<td></td>
			</tr>
			<tr>
				<td style="text-align:right">A:</td>
				<td><input type="text" id="ion_A" size="10" value="56" enterkeyhint="done" onchange='limiter_ion_A(this);'/></td>
				<td></td>
			</tr>
			<tr>
				<td style="text-align:right">Z:</td>
				<td><input type="text" id="ion_Z" size="10" value="26" enterkeyhint="done" onchange='limiter_ion_Z(this);'/></td>
				<td></td>
			</tr>
			<tr>
				<td style="text-align:right">Q:</td>
				<td><input type="text" id="ion_charge" size="10" value="26" enterkeyhint="done" onchange='limiter_ion_charge(this);'/></td>
				<td></td>
			</tr>
			<tr>
				<td style="text-align:right">Mass:</td>
				<td style="font-family:Roboto;">55.92071</td>
				<td style="text-align:left">[amu]</td>
			</tr>
			<tr>
				<td style="text-align:right">Type:</td>
				<td style="font-family:Roboto;">bare</td>
				<td style=""></td>
			</tr>
			<tr>
				<td style="text-align:right">T<sub>1/2</sub>:</td>
				<td style="font-family:Roboto;">stbl</td>
				<td style="text-align:left; color:gray">* neutral</td>
			</tr>
			</table>
		</td>
		<td align="center" width="50%">
			<table id="ion_info_dynamic" align="center">
			<tr>
				<td style="text-align:right">Energy:</td>
				<td><input type="text" id="ion_energy_MeVu" size="10" value="116.72182" enterkeyhint="done" onchange='change_ion_energy_MeVu(this);'/></td>
				<td style="text-align:left">[MeV/u]</td>
			</tr>
			<tr>
				<td style="text-align:right"></td>
				<td><input type="text" id="ion_energy_AMeV" size="10" value="116.55656" enterkeyhint="done" onchange='change_ion_energy_AMeV(this);'/></td>
				<td style="text-align:left">[AMeV]</td>
			</tr>
			<tr>
				<td style="text-align:right">TKE:</td>
				<td><input type="text" id="ion_totalKineticEnergy" size="10" value="6527.16725" enterkeyhint="done" onchange='change_ion_totalKineticEnergy(this);'/></td>
				<td style="text-align:left">[MeV]</td>
			</tr>
			<tr>
				<td style="text-align:right">Bρ:</td>
				<td><input type="text" id="ion_Brho" size="10" value="3.4487" enterkeyhint="done" onchange='change_ion_Brho(this);'/></td>
				<td style="text-align:left">[Tm]</td>
			</tr>
			<tr>
				<td style="text-align:right">γ:</td>
				<td><input type="text" id="ion_gamma" size="10" value="1.125306" enterkeyhint="done" onchange='change_ion_gamma(this);'/></td>
				<td style="text-align:left"></td>
			</tr>
			<tr>
				<td style="text-align:right">β:</td>
				<td><input type="text" id="ion_beta" size="10" value="0.458916" enterkeyhint="done" onchange='change_ion_beta(this);'/></td>
				<td style="text-align:left"></td>
			</tr>
			<tr>
				<td style="text-align:right">Velocity:</td>
				<td><input type="text" id="ion_velocity" size="10" value="1.125306" enterkeyhint="done" onchange='change_ion_velocity(this);'/></td>
				<td style="text-align:left">[cm/ns]</td>
			</tr>
			</table>
		</td>
	</tr>
</table>

<h1 align="center">Harmonic Calculation</h1>

<table id="harmonic_calculation" align="center">
	<tr>
		<td style='text-align:center; color:gray;' colspan='3'>Ion inherited from Ion Information</td>
	</tr>
	<tr>
		<td style="text-align:right">Length of Orbit:</td>
		<td><input type="text" id="length_orbit" size="10" value="128.8" enterkeyhint="done" /> </td>
		<td style="text-align:left">[m]</td>
  	</tr>
  	<tr>
		<td style="text-align:right">Center frequency:</td>
		<td><input type="text" id="center_frequency" size="10" value="243.5" enterkeyhint="done" /> </td>
		<td style="text-align:left">[MHz]</td>
  	</tr>
  	<tr>
		<td style="text-align:right">Span:</td>
		<td><input type="text" id="span" size="10" value="2000" enterkeyhint="done" /> </td>
		<td style="text-align:left">[kHz]</td>
  	</tr>
  	<tr>
		<td style="text-align:right">Revolution frequency:</td>
		<td style="text-align:left" id="result_rev_freq"></td>
		<td style="text-align:left">[kHz]</td>
  	</tr>
  	<tr>
		<td style="text-align:right">Revolution time:</td>
		<td style="text-align:left" id="result_rev_time"></td>
		<td style="text-align:left">[ns]</td>
  	</tr>
</table>
<table id="harmResult" align='center'>
  	<thead>
  	<tr>
		<th>&nbsp;harmonic&nbsp;</th>
		<th>&nbsp;location [kHz]&nbsp;</th>
		<th>&nbsp;frequency [MHz]&nbsp;</th>
  	</tr>
  	</thead>
  	<tbody id='old_tbody'>
  	</tbody>
</table>

<h1 align="center">Storage Lifetime Estimation</h1>

<div>
	<h2 align='center'>Ring Mode Information</h2>
	<table id='ringModeTable' align='center'>
		<tr>
			<td style='text-align:center' colspan='3'><b>Internal Target Mode</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Vertical acceptance A<sub>ν</sub></td>
			<td><input type='text' id='interTG_A_nu' size='10' value='75' enterkeyhint='done' /></td>
			<td style='text-align:left'>[πmm mrad]</td>
		</tr>
		<tr>
			<td style='text-align:right'>Average β function &#10092;β<sub>y</sub>&#10093;:</td>
			<td><input type='text' id='interTG_beta' size='10' value='7.90744811' enterkeyhint='done' /></td>
			<td style='text-align:left'>[m]</td>
		</tr>
		<tr>
			<td style='text-align:center' colspan='3'><b>Isochronous Mode</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Vertical acceptance A<sub>ν</sub>:</td>
			<td><input type='text' id='isochronous_A_nu' size='10' value='20' enterkeyhint='done' /></td>
			<td style='text-align:left'>[πmm mrad]</td>
		</tr>
		<tr>
			<td style='text-align:right'>Average β function &#10092;β<sub>y</sub>&#10093;:</td>
			<td><input type='text' id='isochronous_beta' size='10' value='7.4971677' enterkeyhint='done' /></td>
			<td style='text-align:left'>[m]</td>
		</tr>
		<tr>
			<td style='text-align:center' colspan='3'><b>Normal Mode</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Vertical acceptance A<sub>ν</sub></td>
			<td><input type='text' id='normal_A_nu' size='10' value='80' enterkeyhint='done' /></td>
			<td style='text-align:left'>[πmm mrad]</td>
		</tr>
		<tr>
			<td style='text-align:right'>Average β function &#10092;β<sub>y</sub>&#10093;:</td>
			<td><input type='text' id='normal_beta' size='10' value='7.9073749' enterkeyhint='done' /></td>
			<td style='text-align:left'>[m]</td>
		</tr>
	</table>
</div>
<div>
	<h2 align='center'>Gas Informtion</h2>
	<table id='gasTable' align='center'>
		<tr>
			<td style='text-align:left' colspan='3'><b>Total</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Gas pressure:</td>
			<td><input type='text' id='gas_pressure' size='10' value='1e-11' enterkeyhint='done' /></td>
			<td style='text-align:left'>[mbar]</td>
		</tr>
		<tr>
			<td style='text-align:right'>Gas temperture:</td>
			<td><input type='text' id='gas_temperture' size='10' value='20' enterkeyhint='done' /></td>
			<td style='text-align:left'>[&#8451;]</td>
		</tr>
		<tr>
			<td style='text-align:left' colspan='3'><b>H</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Charge of Gas Z<sub>t</sub>:</td>
			<td><input type='text' id='Gas0_Z_t' size=10 value='1' enterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:right'>Quantity of Gas:</td>
			<td><input type='text' id='Gas0_quantity_t' size=10 value='0.827379' eterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:left' colspan='3'><b>C</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Charge of Gas Z<sub>t</sub>:</td>
			<td><input type='text' id='Gas1_Z_t' size=10 value='6' enterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:right'>Quantity of Gas:</td>
			<td><input type='text' id='Gas1_quantity_t' size=10 value='0.043096' eterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:left' colspan='3'><b>N</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Charge of Gas Z<sub>t</sub>:</td>
			<td><input type='text' id='Gas2_Z_t' size=10 value='7' enterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:right'>Quantity of Gas:</td>
			<td><input type='text' id='Gas2_quantity_t' size=10 value='0.081668' eterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:left' colspan='3'><b>O</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Charge of Gas Z<sub>t</sub>:</td>
			<td><input type='text' id='Gas3_Z_t' size=10 value='8' enterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:right'>Quantity of Gas:</td>
			<td><input type='text' id='Gas3_quantity_t' size=10 value='0.047371' eterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:left' colspan='3'><b>He</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Charge of Gas Z<sub>t</sub>:</td>
			<td><input type='text' id='Gas4_Z_t' size=10 value='2' enterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:right'>Quantity of Gas:</td>
			<td><input type='text' id='Gas4_quantity_t' size=10 value='3.75e-5' eterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:left' colspan='3'><b>Ar</b></td>
		</tr>
		<tr>
			<td style='text-align:right'>Charge of Gas Z<sub>t</sub>:</td>
			<td><input type='text' id='Gas5_Z_t' size=10 value='18' enterkeyhint='done' /></td>
			<td></td>
		</tr>
		<tr>
			<td style='text-align:right'>Quantity of Gas:</td>
			<td><input type='text' id='Gas5_quantity_t' size=10 value='9.25e-6' eterkeyhint='done' /></td>
			<td></td>
		</tr>
	</table>
</div>

<div>
<h2 align='center'>Storage Life Estimation Result</h2>
<table id='lifeTable' align='center'>
	<tr>
		<td style='text-align:center; color:gray;' colspan='3'>Ion inherited from Ion Information</td>
	</tr>
	<tr>
		<td style='text-align:left;' colspan='3'><b>Reaction with eletrons from E-Cooler</b></td>
	</tr>
	<tr>
		<td><input type='checkbox' id='lifetimeREC_check' onclick='selectREC(this)'/>
	  		<label for='lifetimeREC_check'>Radioactive Electron Capture</label>
		</td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td style="text-align:right">E-beam vertical temperture:</td>
	    <td><input type="text" id="T_v" size="10" value="1" enterkeyhint="done" /></td>
		<td style="text-align:left">[eV]</td>
	</tr>
	<tr>
		<td style="text-align:right">E-beam current:</td>
	    <td><input type="text" id="I_e" size="10" value="0.2" enterkeyhint="done" /></td>
		<td style="text-align:left">[A]</td>
	</tr>
	<tr>
		<td style="text-align:right">E-beam radius:</td>
	    <td><input type="text" id="r_0" size="10" value="0.02" enterkeyhint="done" /></td>
		<td style="text-align:left">[m]</td>
	</tr>
	<tr>
		<td style="text-align:right">E-beam voltage (without cali.):</td>
		<td style="text-align:left" id='U_e'><span style="color:darkorange; font-family:Roboto;">64.031</span></td>
		<td style="text-align:left">[kV]</td>
	</tr>
	<tr>
		<td style="text-align:right">Length of ECooling:</td>
	    <td><input type="text" id="len_cool" size="10" value="3.4" enterkeyhint="done" /></td>
		<td style="text-align:left">[m]</td>
	</tr>
	<tr>
		<td style="text-align:right">Length of storage Ring:</td>
	    <td><input type="text" id="len_C" size="10" value="128.8" enterkeyhint="done" /></td>
		<td style="text-align:left">[m]</td>
	</tr>
	<tr>
		<td style="text-align:right">τ<sub>rec</sub></td>
		<td style="text-align:left" id='result_lifetime_rec'></td>
		<td style="text-align:left">[s]</td>
	</tr>
	<tr>
		<td style='text-align:left;' colspan='3'><b>Reaction with residual gas</b></td>
	</tr>
  	<tr>
		<td><input type='checkbox' id='lifetimeScattering_check' onclick='selectES(this)'/>
	  		<label for='lifetimeScattering_check'>Elastic Scattering</label>
		</td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td style="text-align:right">Ring mode:</td>
		<td><select id='selectMode'>
				<option value='inter_target'>internal target</option>
				<option value='isochronous'>isochronous</option>
				<option value='normal'>normal</option>
			</select>
		</td>
		<td></td>
	</tr>
	<tr>
		<td style="text-align:right">Emittance:</td>
		<td><input type="text" id="emittance" size="10" value="6" enterkeyhint="done" onchange='limiter_emittance(this);' /></td>
		<td style="text-align:left">[πmm mrad]</td>
	</tr>
	<tr>
		<td style="text-align:right">τ<sub>ss</sub></td>
		<td style="text-align:left" id='result_lifetime_ss'></td>
		<td style="text-align:left">[s]</td>
	</tr>
	<tr>
		<td style="text-align:right">τ<sub>ms</sub></td>
		<td style="text-align:left" id='result_lifetime_ms'></td>
		<td style="text-align:left">[s]</td>
	</tr>
	<tr>
		<td style="text-align:right">τ<sub>es</sub></td>
		<td style="text-align:left" id='result_lifetime_es'></td>
		<td style="text-align:left">[s]</td>
	</tr>
  	<tr>
		<td><input type='checkbox' id='lifetimeElectronCapture_check' onclick='selectEC(this)' />
	  		<label for='lifetimeElectronCapture_check'>Electron Capture</label>
		</td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td style="text-align:right">τ<sub>ec</sub></td>
		<td style="text-align:left" id='result_lifetime_ec'></td>
		<td style="text-align:left">[s]</td>
	</tr>
	<tr>
		<td></td>
		<td style="text-align:center; color:gray" id="EC_method"></td>
		<td></td>
	</tr>
  	<tr>
		<td><input type='checkbox' id='lifetimeElectronStripping_check' onclick='selectEL(this)' />
	  		<label for='lifetimeElectronStripping_check'>Electron Stripping</label>
		</td>
		<td></td>
		<td></td>
	<tr>
		<td style="text-align:right">τ<sub>el</sub></td>
		<td style="text-align:left" id='result_lifetime_el'></td>
		<td style="text-align:left">[s]</td>
	</tr>
	<tr>
		<td></td>
		<td style="text-align:center; color:gray" id="EL_method"></td>
		<td></td>
	</tr>
  	<tr>
		<td><input type='checkbox' id='lifetimeNuclearReaction_check' onclick='selectNR(this)' />
	  		<label for='lifetimeNuclearReaction_check'>Nuclear Reaction</label>
		</td>
		<td></td>
		<td></td>
	<tr>
		<td style="text-align:right">τ<sub>nr</sub></td>
		<td style="text-align:left" id='result_lifetime_nr'></td>
		<td style="text-align:left">[s]</td>
	</tr>
	<tr>
		<td style='text-align:left;' colspan='3'><hr width='25%'/></td>
	</tr>
	<tr>
		<td style='text-align:center;' colspan='3'><b>Summary of results</b></td>
	</tr>
  	<tr>
		<td style="text-align:right">τ<sub>total</sub></td>
		<td style="text-align:left" id='result_lifetime_total_s'></td>
		<td style="text-align:left">[s]</td>
  	</tr>
  	<tr>
    	<td></td>
		<td style="text-align:left" id='result_lifetime_total_min'></td>
		<td style="text-align:left">[min]</td>
  	</tr>
  	<tr>
    	<td></td>
		<td style="text-align:left" id='result_lifetime_total_hour'></td>
		<td style="text-align:left">[h]</td>
  	</tr>
  	<tr>
		<td style="text-align:right">REC</td>
  		<td style="text-align:left" id='ratio_lifetime_REC'></td>
		<td style="text-align:left">%</td>
  	</tr>
  	<tr>
		<td style="text-align:right">ES</td>
  		<td style="text-align:left" id='ratio_lifetime_ES'></td>
		<td style="text-align:left">%</td>
  	</tr>
  	<tr>
		<td style="text-align:right">EC</td>
  		<td style="text-align:left" id='ratio_lifetime_EC'></td>
		<td style="text-align:left">%</td>
  	</tr>
  	<tr>
		<td style="text-align:right">EL</td>
  		<td style="text-align:left" id='ratio_lifetime_EL'></td>
		<td style="text-align:left">%</td>
  	</tr>
  	<tr>
		<td style="text-align:right">NR</td>
  		<td style="text-align:left" id='ratio_lifetime_NR'></td>
		<td style="text-align:left">%</td>
  	</tr>
</table>
</div>
</div>
<p style="text-align:center; color:gray">Web generated from <a href="https://github.com/NanaVan/onlineTool-html">NanaVan/onlineTool-html</a>(<a href="https://github.com/NanaVan/onlineTool-html/issues">bug reports</a>). Copyright 2023 Q.Wang.</p>
</body>

<script src='/dist/sql-wasm.js'></script>
<script src='/scripts/constantValues.js'></script>
<script src='/scripts/ionNumberEstimation.js'></script>
<script src='/scripts/ionInformationSetting.js'></script>
<script src='/scripts/harmonicCalculation.js'></script>
<script src='/scripts/storageLifeCalculation.js'></script>
<script>
	async function initial(){
		await initialIon_info_dynamic();
		document.getElementById('lifetimeElectronStripping_check').disabled = true;
	}
	initial();

</script>


</html>
